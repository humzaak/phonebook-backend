{"version":3,"sources":["components/Data.js","services/persons.js","components/PersonForm.js","components/Filter.js","components/List.js","components/Notification.js","App.js","index.js"],"names":["Data","props","name","number","onClick","Delete","id","baseUrl","axios","get","then","response","console","log","data","newObject","post","delete","PersonForm","newName","newNumber","persons","setPersons","setNewName","setNewNumber","onSubmit","event","preventDefault","target","length","filter","person","toUpperCase","alert","PersonService","returnedPerson","concat","value","onChange","type","Filter","filterValue","setFilterValue","checkFilter","includes","List","map","key","Notification","message","className","App","useState","errorMessage","seterrorMessage","useEffect","allNames","toBeDeleted","window","confirm","returnedNote","catch","error","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70e9e8a0.chunk.js","sourcesContent":["import React from 'react'\n\nconst Data = (props) => {\n  return (\n    <li>{props.name} : {props.number}\n    <button onClick={() => props.Delete(props.id)}>Delete</button>\n\n    </li>\n  )\n}\n//    \"server\": \"json-server -p3001 --watch db.json\"\n\n\nexport default Data","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then((response) => {\n\n       console.log(response.data)\n       return response.data\n    \n    })\n\n   /* const nonExisting = {\n        id: 10000,\n        name: 'This note is not saved to server',\n        number: '2019-05-30T17:30:31.098Z',\n      }\n    return request.then(response => response.data.concat(nonExisting))*/\n}\n\nconst create = newObject => {\n    const request =  axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n\n}\n\nconst deleteData = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response =>response.data)\n}\n\nexport default \n{\n    getAll: getAll,\n    create: create,\n    update: update,\n    deleteData: deleteData\n}\n","import React, { useState, useEffect} from 'react'\nimport PersonService from '../services/persons'\n\n\nconst PersonForm = (props) => {\n\n  \n\n    const newName = props.newName\n    const newNumber = props.newNumber\n    const persons = props.persons\n    const setPersons = props.setPersons\n    const setNewName = props.setNewName\n    const setNewNumber = props.setNewNumber\n    console.log(setNewName)\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        console.log('button clicked', event.target)\n    \n        if(newName.length == 0){\n          return\n        }\n    \n        const comparison = persons.filter(person=>person.name.toUpperCase()===newName.toUpperCase())\n        if(comparison.length > 0)\n        {\n          console.log(newName)\n          alert(`${newName} is already added to the phonebook`)\n          setNewName('')\n          return\n    \n        }\n        const newPerson = {\n          name: newName,\n          number:newNumber\n        }\n\n        PersonService.create(newPerson)\n        .then(returnedPerson => {\n          console.log(returnedPerson)\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n\n      } \n    \n      const handleValueChange = (event) => {\n        console.log(event.target.value)\n        setNewName(event.target.value)\n      }\n    \n    \n      const handleValueNumberChange = (event) => {\n        console.log(event.target.value)\n        setNewNumber(event.target.value)\n      }\n    \n     \n   \n   \n   \n     return (\n        <form \n        onSubmit={addPerson}>\n          <div>\n            name: \n            <input  \n            value = {props.newName}\n            onChange={handleValueChange}\n            />\n          </div>\n          <div>\n            number: \n            <input  \n            value = {props.newNumber}\n            onChange={handleValueNumberChange}\n            />\n          </div>\n  \n  \n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n     )\n   }\n   \n   \n   \n   \n   export default PersonForm","import React, { useState } from 'react'\nimport PersonForm from './PersonForm'\n\n\n\nconst Filter = (props) => {\n\n    const setPersons = props.setPersons\n    const filterValue = props.filterValue\n    const setFilterValue = props.setFilterValue\n    const persons = props.persons\n\n const handleFilterValueChange = (event) => {\n   setFilterValue(event.target.value)\n\n    if(filterValue.length == 0)\n    {\n      setPersons(persons)\n    }\n    else{\n    const checkFilter = persons.filter(person=>person.name.toUpperCase().includes(props.filterValue.toUpperCase()))\n   setPersons(checkFilter)\n  \n  }\n  }\n\n\n\n  return (\n    <form>\n     <div>filter shown by: <input \n      value = {filterValue}\n      onChange={handleFilterValueChange}    \n     /></div> \n    </form>\n  )\n}\n\n\n\n\nexport default Filter","import React, { useState } from 'react'\nimport Data from './Data'\n\n\nconst List = (props) => {\n\nconst persons = props.persons\nconsole.log(persons)\n  return (\n    <ul>\n    {\n    \n    persons.map \n     ((person)=>\n    <Data key={person.name} id={person.id} name= {person.name} number={person.number} Delete = {props.Delete}/>\n\n    )\n    \n    }\n    </ul>\n  )\n}\n\n\n\n\nexport default List","import React from 'react'\n\nconst Notification = (props) => {\n    if(props.message === null){\n        return null\n    }\n\n  return (\n    <div className=\"error\">\n        {props.message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Data from './components/Data'\nimport Filter from './components/Filter'\nimport List from './components/List'\nimport './App.css'\nimport PersonForm from './components/PersonForm'\nimport PersonService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterValue, setFilterValue ] = useState('')\n  const [errorMessage, seterrorMessage]  = useState(null)\n\n  const [ persons, setPersons ] = useState([]) \n\n  useEffect(() => {\n    console.log('effect')\n    PersonService.getAll()\n      .then(allNames => {\n        console.log('promise fulfilled')\n        setPersons(allNames)\n      })\n  }, [])\n\n  const deleteName = (id) => { \n   const toBeDeleted =  persons.filter((person)=>person.id === id)\n    if (window.confirm(`Delete ${toBeDeleted[0].name}  ?`)) { \n      PersonService.deleteData(id)\n      .then(returnedNote => {\n        PersonService.getAll()\n        .then(allNames => {\n          console.log('promise fulfilled')\n          setPersons(allNames)\n        })\n      })\n      .catch(error=> {\n          seterrorMessage(\"This value is not on server\")\n          setTimeout(()=>seterrorMessage(null),3000)\n          setPersons(persons.filter(person=>person.id !== id))\n          }\n      )\n    }\n   \n\n   \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Filter filterValue = {filterValue} setFilterValue = {setFilterValue} setPersons = {setPersons} persons = {persons}/>\n\n\n      <h2>Add new</h2>\n      <Notification message = {errorMessage}/>\n      <PersonForm newName = {newName} newNumber = {newNumber} setNewName = {setNewName} setNewNumber = {setNewNumber} setPersons ={setPersons} persons = {persons}/>\n\n\n\n      <h2>Numbers</h2>\n       <List persons = {persons} Delete = {deleteName}/>\n     \n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}